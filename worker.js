var l={async fetch(r,n,o){let a=new URL(r.url);try{if(a.pathname.startsWith("/api/"))return p(r,n);let e=a.pathname;e==="/"&&(e="/index.html");let s=e.startsWith("/")?e.slice(1):e;try{let t=await n.__STATIC_CONTENT.get(s,{type:"arrayBuffer"});if(t){let i=c(s);return new Response(t,{headers:{"Content-Type":i,"Cache-Control":"public, max-age=86400"}})}}catch(t){console.error("KV error:",t)}if(!e.includes("."))try{let t=await n.__STATIC_CONTENT.get("index.html",{type:"arrayBuffer"});if(t)return new Response(t,{headers:{"Content-Type":"text/html","Cache-Control":"public, max-age=86400"}})}catch(t){console.error("Index error:",t)}return new Response("Not Found",{status:404})}catch(e){return console.error("Worker error:",e),new Response(`Internal Server Error: ${e.message}`,{status:500})}}};async function p(r,n){return new URL(r.url).pathname==="/api/health"?new Response(JSON.stringify({status:"ok",version:n.API_VERSION||"1.0.0",timestamp:new Date().toISOString(),kvNamespace:n.__STATIC_CONTENT?"available":"not available"}),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}):new Response("API Not Found",{status:404})}function c(r){let n=r.split(".").pop()?.toLowerCase();return{html:"text/html",css:"text/css",js:"application/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",svg:"image/svg+xml",ico:"image/x-icon",woff:"font/woff",woff2:"font/woff2",ttf:"font/ttf",eot:"application/vnd.ms-fontobject"}[n]||"application/octet-stream"}export{l as default};
